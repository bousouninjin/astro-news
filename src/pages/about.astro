---
import ContentLayout from "@/layouts/content.astro";
import BaseLayout from "@/layouts/base.astro";
import { render } from "astro:content";
import { getEntryBySlug } from "@/i18n/content";
import { localizePath } from "@/i18n/paths";

const locale = Astro.currentLocale;
const entry = await getEntryBySlug("views", "about", locale);

if (!entry) {
  return Astro.redirect(localizePath(locale, "/404"));
}

const { Content } = await render(entry);
---

<BaseLayout entry={entry}>
  <ContentLayout>
    <Content />
  </ContentLayout>
</BaseLayout>
